# #15. Semafori - @Nov 23, 2020

I semafori sono implementati a livello di primitive del sistema operativo
Sono delle strutture dati e hanno tre operazioni atomiche:

- init
- incremento: da blocked a ready semsignal
- decremento: mette il processo in blocked - semwait
In pseudocodice ha un contatore e una coda.

Esistono anche i semafori binari che hanno solo dei valori 0, 1
Se ho una coda di processi Come vengono gestiti?

e se una coda di processi Come vengono gestiti? Se tipo strong serve per evitare lo starvation:  ho processo prende possesso di quel semaforo.  La mutua esclusione è molto semplice in questo caso:entri? semWait, esci? semSignal

mutua esclusione: unico pezzo di codice, al più processo può entrare

problema del produttore consumatore: uno più processi creano dati li mettono in un buffer; consumatori prende i dati una volta; un solo processo può operare Sul buffer produttore o consumatore;

problema: produttore o consumatore non devono aggiungere quando il buffer è pieno o vuoto

buffer circolare 2 punti è un buffer che funziona esattamente come un tavolo da pranzo. Nel problema del produttore consumatore possiamo usare un buffer circolare:  esso avrà due punti: NextIn e NextOut  e serviranno rispettivamente a produttore e al consumatore.  Viene utilizzato un semaforo, pieno vuoto e mutex.  La sezione critica coinvolge una modifica del buffer circolare. Nel produttore viene prodotto  un dato,  wait,  mutex ->  modifica il buffer and release.  Nel consumatore: wait e, mutex ->   modifica il buffer, release, consumo