# #11. Dischi - @Nov 9, 2020

# Dischi

Tempo di accesso: Somma tra tempo di posizionamento (seek), necessario perché la testina si posiziona su una traccia del disco, e ritardo di rotazione (delay o latency) che è il tempo necessario affinché l'inizio del settore raggiunga la testina.

Tempo di trasferimento: trasferire i dati che scorrono sotto la testina

Politiche di scheduling:

- fifo: La solita
- priorità: Priorità più alta (batch) non va bene per dbms
- sstf: Servola richiesta più vicina ad un settore, esempio da 100 a 0 e poi sopra 100
Vuol dire minimo tempo di servizio, si ha starvation
- scan: Sempre in un verso e poi al contrario. Torna indietro al punto più vicino
- c-scan: Scan ma non servo più la più vicina bensì da capo
- f-scan: Due cuori anziché una, Front e rear. Scan inizia concludendo F, le altre richieste le mette in Rear e poi eseguire rear
- n-step-scan: Generalizzazione di f-scan a n > 2 code. Non si aggiungono mai Task alla coda che si sta eseguendo.

## Cache del disco

Buffer di memoria usato per i settori, è uguale a quello della RAM. Viene chiamato page_cache

Se il settore è presente, il sistema operativo legge da lì, altrimenti il contenuto viene letto e copiato nella cache.

Vengono usate queste politiche:

- LRU
- LFU: Contatore per ogni settore, viene sostituito un settore poco usato
- Su frequenza: Viene diviso in parte vecchia e nuova e si sceglie il settore col contatore più basso solo dalla parte vecchia -> nuovo, medio, vecchio

RAID: Redundant array of independent disk

## RAID

Si hanno a disposizione più dischi fisici e si gestiscono come un unico disco, oppure come dischi diversi.
Lvm: In Linux c'è un modulo che gestisce la ridondanza e c'è un'unica page cache per tutti i trasferimenti disco-memoria. La page cache è paginata e si usa lo stesso algoritmo delle pagine.

## File system

Sistema di gestione dei file. Proprietà necessarie: Esistenza, strutturabilità, condivisibilità.
I file sono gestiti da un insieme di programmi e librerie, forniscono un'astrazione e per ogni file hanno un insieme di attributi.

Operazioni: Creazione, cancellazione, apertura, chiusura, scrittura, lettura

Terminologia:

- Campi: Dati di base, numeri interi
- record: Insieme di Campi correlati (righe)
- file: Unità con un nome, attributi e che ha permessi
- database: Insieme di dati correlati

File Management System: Gestione dati, garantire nomi file valido, accedere input-output, minimizzare dati persi o distrutti

Operazioni fondamentali: Permessi di accesso, operazioni fondamentali file, muovere dati o riorganizzarli, copia di backup